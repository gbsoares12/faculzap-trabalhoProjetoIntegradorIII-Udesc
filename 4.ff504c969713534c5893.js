(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{HigS:function(e,t,l){"use strict";l.d(t,"a",function(){return o}),l.d(t,"b",function(){return g});var n=l("CcnG"),i=(l("rmC/"),l("Ip0R")),o=(l("7LN8"),l("gIcY"),n["\u0275crt"]({encapsulation:2,styles:[],data:{}}));function u(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,1,"div",[["class","ui-widget-header ui-corner-all ui-listbox-header ui-helper-clearfix"]],null,null,null,null,null)),n["\u0275ncd"](null,0)],null,null)}function a(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,10,"div",[["class","ui-chkbox ui-widget"]],null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,1,"div",[["class","ui-helper-hidden-accessible"]],null,null,null,null,null)),(e()(),n["\u0275eld"](2,0,null,null,0,"input",[["readonly","readonly"],["type","checkbox"]],[[8,"checked",0]],[[null,"focus"],[null,"blur"],[null,"keydown.space"]],function(e,t,l){var n=!0,i=e.component;return"focus"===t&&(n=!1!==i.onHeaderCheckboxFocus()&&n),"blur"===t&&(n=!1!==i.onHeaderCheckboxBlur()&&n),"keydown.space"===t&&(n=!1!==i.toggleAll(l)&&n),n},null,null)),(e()(),n["\u0275eld"](3,0,[[1,0],["headerchkbox",1]],null,7,"div",[["class","ui-chkbox-box ui-widget ui-corner-all ui-state-default"]],null,[[null,"click"]],function(e,t,l){var n=!0;return"click"===t&&(n=!1!==e.component.toggleAll(l)&&n),n},null,null)),n["\u0275prd"](512,null,i["\u0275NgClassImpl"],i["\u0275NgClassR2Impl"],[n.IterableDiffers,n.KeyValueDiffers,n.ElementRef,n.Renderer2]),n["\u0275did"](5,278528,null,0,i.NgClass,[i["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),n["\u0275pod"](6,{"ui-state-active":0,"ui-state-focus":1}),(e()(),n["\u0275eld"](7,0,null,null,3,"span",[["class","ui-chkbox-icon ui-clickable"]],null,null,null,null,null)),n["\u0275prd"](512,null,i["\u0275NgClassImpl"],i["\u0275NgClassR2Impl"],[n.IterableDiffers,n.KeyValueDiffers,n.ElementRef,n.Renderer2]),n["\u0275did"](9,278528,null,0,i.NgClass,[i["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),n["\u0275pod"](10,{"pi pi-check":0})],function(e,t){var l=t.component,n=e(t,6,0,l.allChecked,l.headerCheckboxFocus);e(t,5,0,"ui-chkbox-box ui-widget ui-corner-all ui-state-default",n);var i=e(t,10,0,l.allChecked);e(t,9,0,"ui-chkbox-icon ui-clickable",i)},function(e,t){e(t,2,0,t.component.allChecked)})}function s(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,2,"div",[["class","ui-listbox-filter-container"]],null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,0,"input",[["class","ui-inputtext ui-widget ui-state-default ui-corner-all"],["role","textbox"],["type","text"]],[[8,"value",0],[8,"disabled",0],[1,"aria-label",0]],[[null,"input"]],function(e,t,l){var n=!0;return"input"===t&&(n=!1!==e.component.onFilter(l)&&n),n},null,null)),(e()(),n["\u0275eld"](2,0,null,null,0,"span",[["class","ui-listbox-filter-icon pi pi-search"]],null,null,null,null,null))],null,function(e,t){var l=t.component;e(t,1,0,l.filterValue||"",l.disabled,l.ariaFilterLabel)})}function r(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,7,"div",[["class","ui-widget-header ui-corner-all ui-listbox-header ui-helper-clearfix"]],null,null,null,null,null)),n["\u0275prd"](512,null,i["\u0275NgClassImpl"],i["\u0275NgClassR2Impl"],[n.IterableDiffers,n.KeyValueDiffers,n.ElementRef,n.Renderer2]),n["\u0275did"](2,278528,null,0,i.NgClass,[i["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),n["\u0275pod"](3,{"ui-listbox-header-w-checkbox":0}),(e()(),n["\u0275and"](16777216,null,null,1,null,a)),n["\u0275did"](5,16384,null,0,i.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,null,null,1,null,s)),n["\u0275did"](7,16384,null,0,i.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,t){var l=t.component,n=e(t,3,0,l.checkbox);e(t,2,0,"ui-widget-header ui-corner-all ui-listbox-header ui-helper-clearfix",n),e(t,5,0,l.checkbox&&l.multiple&&l.showToggleAll),e(t,7,0,l.filter)},null)}function c(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,8,"div",[["class","ui-chkbox ui-widget"]],null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,7,"div",[["class","ui-chkbox-box ui-widget ui-corner-all ui-state-default"]],null,null,null,null,null)),n["\u0275prd"](512,null,i["\u0275NgClassImpl"],i["\u0275NgClassR2Impl"],[n.IterableDiffers,n.KeyValueDiffers,n.ElementRef,n.Renderer2]),n["\u0275did"](3,278528,null,0,i.NgClass,[i["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),n["\u0275pod"](4,{"ui-state-active":0}),(e()(),n["\u0275eld"](5,0,null,null,3,"span",[["class","ui-chkbox-icon ui-clickable"]],null,null,null,null,null)),n["\u0275prd"](512,null,i["\u0275NgClassImpl"],i["\u0275NgClassR2Impl"],[n.IterableDiffers,n.KeyValueDiffers,n.ElementRef,n.Renderer2]),n["\u0275did"](7,278528,null,0,i.NgClass,[i["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),n["\u0275pod"](8,{"pi pi-check":0})],function(e,t){var l=t.component,n=e(t,4,0,l.isSelected(t.parent.context.$implicit));e(t,3,0,"ui-chkbox-box ui-widget ui-corner-all ui-state-default",n);var i=e(t,8,0,l.isSelected(t.parent.context.$implicit));e(t,7,0,"ui-chkbox-icon ui-clickable",i)},null)}function d(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),n["\u0275ted"](1,null,["",""]))],null,function(e,t){e(t,1,0,t.parent.context.$implicit.label)})}function p(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function h(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,10,"li",[],[[4,"display",null],[1,"tabindex",0],[1,"aria-label",0]],[[null,"click"],[null,"dblclick"],[null,"touchend"],[null,"keydown"]],function(e,t,l){var n=!0,i=e.component;return"click"===t&&(n=!1!==i.onOptionClick(l,e.context.$implicit)&&n),"dblclick"===t&&(n=!1!==i.onOptionDoubleClick(l,e.context.$implicit)&&n),"touchend"===t&&(n=!1!==i.onOptionTouchEnd(l,e.context.$implicit)&&n),"keydown"===t&&(n=!1!==i.onOptionKeyDown(l,e.context.$implicit)&&n),n},null,null)),n["\u0275prd"](512,null,i["\u0275NgClassImpl"],i["\u0275NgClassR2Impl"],[n.IterableDiffers,n.KeyValueDiffers,n.ElementRef,n.Renderer2]),n["\u0275did"](2,278528,null,0,i.NgClass,[i["\u0275NgClassImpl"]],{ngClass:[0,"ngClass"]},null),n["\u0275pod"](3,{"ui-listbox-item ui-corner-all":0,"ui-state-highlight":1,"ui-state-disabled":2}),(e()(),n["\u0275and"](16777216,null,null,1,null,c)),n["\u0275did"](5,16384,null,0,i.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,null,null,1,null,d)),n["\u0275did"](7,16384,null,0,i.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,null,null,2,null,p)),n["\u0275did"](9,540672,null,0,i.NgTemplateOutlet,[n.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),n["\u0275pod"](10,{$implicit:0,index:1})],function(e,t){var l=t.component,n=e(t,3,0,!0,l.isSelected(t.context.$implicit),t.context.$implicit.disabled);e(t,2,0,n),e(t,5,0,l.checkbox&&l.multiple),e(t,7,0,!l.itemTemplate);var i=e(t,10,0,t.context.$implicit,t.context.index);e(t,9,0,i,l.itemTemplate)},function(e,t){e(t,0,0,t.component.isItemVisible(t.context.$implicit)?"block":"none",t.context.$implicit.disabled?null:"0",t.context.$implicit.label)})}function f(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,1,"div",[["class","ui-listbox-footer ui-widget-header ui-corner-all"]],null,null,null,null,null)),n["\u0275ncd"](null,1)],null,null)}function g(e){return n["\u0275vid"](0,[n["\u0275qud"](671088640,1,{headerCheckboxViewChild:0}),(e()(),n["\u0275eld"](1,0,null,null,19,"div",[],null,null,null,null,null)),n["\u0275prd"](512,null,i["\u0275NgClassImpl"],i["\u0275NgClassR2Impl"],[n.IterableDiffers,n.KeyValueDiffers,n.ElementRef,n.Renderer2]),n["\u0275did"](3,278528,null,0,i.NgClass,[i["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),n["\u0275pod"](4,{"ui-listbox ui-inputtext ui-widget ui-widget-content ui-corner-all":0,"ui-state-disabled":1,"ui-state-focus":2}),n["\u0275prd"](512,null,i["\u0275NgStyleImpl"],i["\u0275NgStyleR2Impl"],[n.ElementRef,n.KeyValueDiffers,n.Renderer2]),n["\u0275did"](6,278528,null,0,i.NgStyle,[i["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),(e()(),n["\u0275eld"](7,0,null,null,1,"div",[["class","ui-helper-hidden-accessible"]],null,null,null,null,null)),(e()(),n["\u0275eld"](8,0,null,null,0,"input",[["readonly","readonly"],["type","text"]],null,[[null,"focus"],[null,"blur"]],function(e,t,l){var n=!0,i=e.component;return"focus"===t&&(n=!1!==i.onInputFocus(l)&&n),"blur"===t&&(n=!1!==i.onInputBlur(l)&&n),n},null,null)),(e()(),n["\u0275and"](16777216,null,null,1,null,u)),n["\u0275did"](10,16384,null,0,i.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,null,null,1,null,r)),n["\u0275did"](12,16384,null,0,i.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275eld"](13,0,null,null,5,"div",[["class","ui-listbox-list-wrapper"]],null,null,null,null,null)),n["\u0275prd"](512,null,i["\u0275NgStyleImpl"],i["\u0275NgStyleR2Impl"],[n.ElementRef,n.KeyValueDiffers,n.Renderer2]),n["\u0275did"](15,278528,null,0,i.NgStyle,[i["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),(e()(),n["\u0275eld"](16,0,null,null,2,"ul",[["class","ui-listbox-list"]],null,null,null,null,null)),(e()(),n["\u0275and"](16777216,null,null,1,null,h)),n["\u0275did"](18,278528,null,0,i.NgForOf,[n.ViewContainerRef,n.TemplateRef,n.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),n["\u0275and"](16777216,null,null,1,null,f)),n["\u0275did"](20,16384,null,0,i.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,t){var l=t.component,n=l.styleClass,i=e(t,4,0,!0,l.disabled,l.focus);e(t,3,0,n,i),e(t,6,0,l.style),e(t,10,0,l.headerFacet),e(t,12,0,l.checkbox&&l.multiple&&l.showToggleAll||l.filter),e(t,15,0,l.listStyle),e(t,18,0,l.options),e(t,20,0,l.footerFacet)},null)}},LRDa:function(e,t,l){"use strict";l.d(t,"a",function(){return a});var n=l("mrSG"),i=l("CcnG"),o=l("fvl4"),u=l("VRER"),a=function(){function e(e,t){this.firestore=e,this.firestorage=t}return e.prototype.get_todos_usuarios_alunos_edit_remover=function(e,t){return n.__awaiter(this,void 0,void 0,function(){var l;return n.__generator(this,function(n){switch(n.label){case 0:return l=[],[4,this.firestore.collection("/Usuarios/alunos/usuarios_alunos/").get().forEach(function(e){e.empty||e.forEach(function(e){t!==e.data().uid&&(l=l.concat([{nome:e.data().displayName,uid:e.data().uid}]))})})];case 1:return n.sent(),[2,l.filter(function(t,l,n){if(-1!==e.indexOf(t.uid))return t})]}})})},e.prototype.get_todos_usuarios_professores_edit_remover=function(e,t){return n.__awaiter(this,void 0,void 0,function(){var l;return n.__generator(this,function(n){switch(n.label){case 0:return l=[],[4,this.firestore.collection("/Usuarios/professores/usuarios_professores/").get().forEach(function(e){e.empty||e.forEach(function(e){t!==e.data().uid&&(l=l.concat([{nome:e.data().displayName,uid:e.data().uid}]))})})];case 1:return n.sent(),[2,l.filter(function(t,l,n){if(-1!==e.indexOf(t.uid))return t})]}})})},e.prototype.get_todos_usuarios_professores_edit=function(e){return n.__awaiter(this,void 0,void 0,function(){var t;return n.__generator(this,function(l){switch(l.label){case 0:return t=[],[4,this.firestore.collection("/Usuarios/professores/usuarios_professores/").get().forEach(function(e){e.empty||e.forEach(function(e){t=t.concat([{nome:e.data().displayName,uid:e.data().uid}])})})];case 1:return l.sent(),[2,t.filter(function(t,l,n){if(-1==e.indexOf(t.uid))return t})]}})})},e.prototype.get_todos_usuarios_alunos_edit=function(e){return n.__awaiter(this,void 0,void 0,function(){var t;return n.__generator(this,function(l){switch(l.label){case 0:return t=[],[4,this.firestore.collection("/Usuarios/alunos/usuarios_alunos/").get().forEach(function(e){e.empty||e.forEach(function(e){t=t.concat([{nome:e.data().displayName,uid:e.data().uid}])})})];case 1:return l.sent(),[2,t.filter(function(t,l,n){if(-1==e.indexOf(t.uid))return t})]}})})},e.prototype.get_todos_usuarios_alunos=function(e){return n.__awaiter(this,void 0,void 0,function(){var t;return n.__generator(this,function(l){switch(l.label){case 0:return t=[],[4,this.firestore.collection("/Usuarios/alunos/usuarios_alunos/").get().forEach(function(l){l.empty||l.forEach(function(l){l.data().uid!==e&&(t=t.concat([{nome:l.data().displayName,uid:l.data().uid}]))})})];case 1:return l.sent(),[2,t]}})})},e.prototype.get_todos_usuarios_professores=function(e){return n.__awaiter(this,void 0,void 0,function(){var t;return n.__generator(this,function(l){switch(l.label){case 0:return t=[],[4,this.firestore.collection("/Usuarios/professores/usuarios_professores/").get().forEach(function(l){l.empty||l.forEach(function(l){l.data().uid!==e&&(t=t.concat([{nome:l.data().displayName,uid:l.data().uid}]))})})];case 1:return l.sent(),[2,t]}})})},e.prototype.get_eventosCalendario=function(e){return n.__awaiter(this,void 0,void 0,function(){var t,l;return n.__generator(this,function(n){switch(n.label){case 0:return t=[],null==(l=this.firestore.collection("/Grupos/"+e+"/diciplina/").get())?[3,2]:[4,l.forEach(function(e){e.empty||e.forEach(function(e){console.log(e.data()),t=t.concat([{start:new Date(e.data().data_inicio),end:new Date(e.data().data_fim),title:e.data().nome}])})})];case 1:n.sent(),n.label=2;case 2:return[2,t]}})})},e.prototype.create_grupo=function(e){return n.__awaiter(this,void 0,void 0,function(){var t;return n.__generator(this,function(l){switch(l.label){case 0:return[4,this.firestore.collection("/Grupos/").add(e).then(function(e){t=e?e.id:""})];case 1:return l.sent(),[2,t]}})})},e.prototype.read_grupo=function(e){return this.firestore.collection("/Grupos/").ref.where("usuarios","array-contains",e)},e.prototype.get_objGrupo=function(e){return n.__awaiter(this,void 0,void 0,function(){return n.__generator(this,function(t){return[2,this.firestore.doc("/Grupos/"+e).get()]})})},e.prototype.criaObjGrupo=function(e){return{uid:e.id,titulo:e.data().titulo,imagem_url:e.data().imagem_url,usuarios:e.data().uidUsuarios,criador:e.data().criador}},e.prototype.get_mensagensGrupo=function(e){return this.firestore.collection("/Grupos/"+e+"/mensagens/").snapshotChanges()},e.prototype.criaObjMensagem=function(e){return{uid:e.id,arquivo_url:e.data().arquivo_url,data_envio:e.data().data_envio,enviado_por:e.data().enviado_por,imagem_url:e.data().imagem_url,texto:e.data().texto,foto_enviado_por:e.data().foto_enviado_por}},e.prototype.enviarMensagem=function(e,t){return n.__awaiter(this,void 0,void 0,function(){var l;return n.__generator(this,function(n){switch(n.label){case 0:return l="",[4,this.firestore.collection("/Grupos/"+e+"/mensagens/").add(t).then(function(e){l=e.id})];case 1:return n.sent(),[2,l]}})})},e.prototype.update_grupo=function(e,t){this.firestore.doc("/Grupos/"+e).update(t)},e.prototype.delete_grupo=function(e){this.firestore.doc("/Grupos/"+e).delete()},e.prototype.enviar_arquivo=function(e,t,l){return n.__awaiter(this,void 0,void 0,function(){return n.__generator(this,function(n){switch(n.label){case 0:return[4,this.firestorage.upload("arquivosGrupo/"+l+"/"+t+"/images/",e)];case 1:return[2,n.sent()]}})})},e.prototype.update_mensageWithFile=function(e,t,l){this.firestore.doc("/Grupos/"+l+"/mensagens/"+e+"/").update(t)},e.prototype.enviarCalendario=function(e,t){var l=this;t.forEach(function(t){var n={data_fim:t.data_fim,data_inicio:t.data_inicio,nome:t.titulo};l.firestore.collection("/Grupos/"+e+"/diciplina/").add(n)})},e.ngInjectableDef=i["\u0275\u0275defineInjectable"]({factory:function(){return new e(i["\u0275\u0275inject"](o.a),i["\u0275\u0275inject"](u.a))},token:e,providedIn:"root"}),e}()},SVXH:function(e,t,l){"use strict";l.d(t,"a",function(){return i}),l.d(t,"b",function(){return o});var n=l("CcnG"),i=(l("7LN8"),l("Ip0R"),n["\u0275crt"]({encapsulation:2,styles:[],data:{}}));function o(e){return n["\u0275vid"](0,[n["\u0275ncd"](null,0)],null,null)}},TDBI:function(e,t,l){"use strict";l.d(t,"a",function(){return u});var n=l("LRDa"),i=l("t/Na"),o=l("CcnG"),u=function(){function e(e,t){this.http=e,this.grupoService=t}return e.prototype.getEventosCalendarioMoodle=function(e,t){var l=this,n={urlCalendar:e},o={headers:new i.g({"Content-Type":"application/json"})};this.http.post("https://faculzap-api.herokuapp.com/calendarEnvio",n,o).subscribe(function(e){e.length>0&&t.length>0&&l.grupoService.enviarCalendario(t,e)})},e.ngInjectableDef=o["\u0275\u0275defineInjectable"]({factory:function(){return new e(o["\u0275\u0275inject"](i.c),o["\u0275\u0275inject"](n.a))},token:e,providedIn:"root"}),e}()},"rmC/":function(e,t,l){var n=l("mrSG").__decorate,i=l("mrSG").__metadata;Object.defineProperty(t,"__esModule",{value:!0});var o=l("CcnG"),u=l("Ip0R"),a=l("7LN8"),s=l("sdDj"),r=l("P3jN"),c=l("gIcY"),d=l("v3c8");t.LISTBOX_VALUE_ACCESSOR={provide:c.NG_VALUE_ACCESSOR,useExisting:o.forwardRef(function(){return p}),multi:!0};var p=function(){function e(e,t){this.el=e,this.cd=t,this.checkbox=!1,this.filter=!1,this.filterMode="contains",this.metaKeySelection=!0,this.showToggleAll=!0,this.onChange=new o.EventEmitter,this.onClick=new o.EventEmitter,this.onDblClick=new o.EventEmitter,this.onModelChange=function(){},this.onModelTouched=function(){},this.disabledSelectedOptions=[]}return Object.defineProperty(e.prototype,"options",{get:function(){return this._options},set:function(e){var t=this.optionLabel?r.ObjectUtils.generateSelectItems(e,this.optionLabel):e;this._options=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filterValue",{get:function(){return this._filterValue},set:function(e){this._filterValue=e},enumerable:!0,configurable:!0}),e.prototype.ngAfterContentInit=function(){var e=this;this.templates.forEach(function(t){switch(t.getType()){case"item":default:e.itemTemplate=t.template}})},e.prototype.writeValue=function(e){this.value=e,this.setDisabledSelectedOptions(),this.cd.markForCheck()},e.prototype.registerOnChange=function(e){this.onModelChange=e},e.prototype.registerOnTouched=function(e){this.onModelTouched=e},e.prototype.setDisabledState=function(e){this.disabled=e},e.prototype.onOptionClick=function(e,t){this.disabled||t.disabled||this.readonly||(this.multiple?this.checkbox?this.onOptionClickCheckbox(e,t):this.onOptionClickMultiple(e,t):this.onOptionClickSingle(e,t),this.onClick.emit({originalEvent:e,option:t,value:this.value}),this.optionTouched=!1)},e.prototype.onOptionTouchEnd=function(e,t){this.disabled||t.disabled||this.readonly||(this.optionTouched=!0)},e.prototype.onOptionDoubleClick=function(e,t){this.disabled||t.disabled||this.readonly||this.onDblClick.emit({originalEvent:e,option:t,value:this.value})},e.prototype.onOptionClickSingle=function(e,t){var l=this.isSelected(t),n=!1;!this.optionTouched&&this.metaKeySelection?l?(e.metaKey||e.ctrlKey)&&(this.value=null,n=!0):(this.value=t.value,n=!0):(this.value=l?null:t.value,n=!0),n&&(this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}))},e.prototype.onOptionClickMultiple=function(e,t){var l=this.isSelected(t),n=!1;if(!this.optionTouched&&this.metaKeySelection){var i=e.metaKey||e.ctrlKey;l?(i?this.removeOption(t):this.value=[t.value],n=!0):(this.value=i&&this.value||[],this.value=this.value.concat([t.value]),n=!0)}else l?this.removeOption(t):this.value=(this.value||[]).concat([t.value]),n=!0;n&&(this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}))},e.prototype.onOptionClickCheckbox=function(e,t){this.disabled||this.readonly||(this.isSelected(t)?this.removeOption(t):(this.value=this.value?this.value:[],this.value=this.value.concat([t.value])),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}))},e.prototype.removeOption=function(e){var t=this;this.value=this.value.filter(function(l){return!r.ObjectUtils.equals(l,e.value,t.dataKey)})},e.prototype.isSelected=function(e){var t=!1;if(this.multiple){if(this.value)for(var l=0,n=this.value;l<n.length;l++)if(r.ObjectUtils.equals(n[l],e.value,this.dataKey)){t=!0;break}}else t=r.ObjectUtils.equals(this.value,e.value,this.dataKey);return t},Object.defineProperty(e.prototype,"allChecked",{get:function(){if(this.filterValue)return this.allFilteredSelected();var e=this.getEnabledOptionCount();return this.value&&this.options&&this.value.length>0&&this.value.length==e+this.disabledSelectedOptions.length},enumerable:!0,configurable:!0}),e.prototype.getEnabledOptionCount=function(){if(this.options){for(var e=0,t=0,l=this.options;t<l.length;t++)l[t].disabled||e++;return e}return 0},e.prototype.allFilteredSelected=function(){var e,t=this.filterValue?this.getFilteredOptions():this.options;if(this.value&&t&&t.length){e=!0;for(var l=0,n=this.options;l<n.length;l++){var i=n[l];if(this.isItemVisible(i)&&!this.isSelected(i)){e=!1;break}}}return e},e.prototype.onFilter=function(e){this._filterValue=e.target.value},e.prototype.toggleAll=function(e){if(!this.disabled&&!this.readonly&&this.options&&0!==this.options.length){if(this.allChecked)if(this.disabledSelectedOptions&&this.disabledSelectedOptions.length>0){var t;t=this.disabledSelectedOptions.slice(),this.value=t}else this.value=[];else if(this.options){this.value=[],this.disabledSelectedOptions&&this.disabledSelectedOptions.length>0&&(this.value=this.disabledSelectedOptions.slice());for(var l=0;l<this.options.length;l++){var n=this.options[l];this.isItemVisible(n)&&!n.disabled&&this.value.push(n.value)}}this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}),e.preventDefault()}},e.prototype.isItemVisible=function(e){return!this.filterValue||(r.ObjectUtils.removeAccents(this.filterValue).toLowerCase(),!this.filterMode||d.FilterUtils[this.filterMode](e.label,this.filterValue))},e.prototype.onInputFocus=function(e){this.focus=!0},e.prototype.onInputBlur=function(e){this.focus=!1},e.prototype.onOptionKeyDown=function(e,t){if(!this.readonly){var l=e.currentTarget;switch(e.which){case 40:var n=this.findNextItem(l);n&&n.focus(),e.preventDefault();break;case 38:var i=this.findPrevItem(l);i&&i.focus(),e.preventDefault();break;case 13:this.onOptionClick(e,t),e.preventDefault()}}},e.prototype.findNextItem=function(e){var t=e.nextElementSibling;return t?s.DomHandler.hasClass(t,"ui-state-disabled")||s.DomHandler.isHidden(t)?this.findNextItem(t):t:null},e.prototype.findPrevItem=function(e){var t=e.previousElementSibling;return t?s.DomHandler.hasClass(t,"ui-state-disabled")||s.DomHandler.isHidden(t)?this.findPrevItem(t):t:null},e.prototype.getFilteredOptions=function(){var e=[];if(this.filterValue){for(var t=0;t<this.options.length;t++){var l=this.options[t];this.isItemVisible(l)&&!l.disabled&&e.push(l)}return e}return this.options},e.prototype.onHeaderCheckboxFocus=function(){this.headerCheckboxFocus=!0},e.prototype.onHeaderCheckboxBlur=function(){this.headerCheckboxFocus=!1},e.prototype.setDisabledSelectedOptions=function(){if(this.options&&(this.disabledSelectedOptions=[],this.value))for(var e=0,t=this.options;e<t.length;e++){var l=t[e];l.disabled&&this.isSelected(l)&&this.disabledSelectedOptions.push(l.value)}},n([o.Input(),i("design:type",Boolean)],e.prototype,"multiple",void 0),n([o.Input(),i("design:type",Object)],e.prototype,"style",void 0),n([o.Input(),i("design:type",String)],e.prototype,"styleClass",void 0),n([o.Input(),i("design:type",Object)],e.prototype,"listStyle",void 0),n([o.Input(),i("design:type",Boolean)],e.prototype,"readonly",void 0),n([o.Input(),i("design:type",Boolean)],e.prototype,"disabled",void 0),n([o.Input(),i("design:type",Boolean)],e.prototype,"checkbox",void 0),n([o.Input(),i("design:type",Boolean)],e.prototype,"filter",void 0),n([o.Input(),i("design:type",String)],e.prototype,"filterMode",void 0),n([o.Input(),i("design:type",Boolean)],e.prototype,"metaKeySelection",void 0),n([o.Input(),i("design:type",String)],e.prototype,"dataKey",void 0),n([o.Input(),i("design:type",Boolean)],e.prototype,"showToggleAll",void 0),n([o.Input(),i("design:type",String)],e.prototype,"optionLabel",void 0),n([o.Input(),i("design:type",String)],e.prototype,"ariaFilterLabel",void 0),n([o.Output(),i("design:type",o.EventEmitter)],e.prototype,"onChange",void 0),n([o.Output(),i("design:type",o.EventEmitter)],e.prototype,"onClick",void 0),n([o.Output(),i("design:type",o.EventEmitter)],e.prototype,"onDblClick",void 0),n([o.ViewChild("headerchkbox",{static:!1}),i("design:type",o.ElementRef)],e.prototype,"headerCheckboxViewChild",void 0),n([o.ContentChild(a.Header,{static:!1}),i("design:type",Object)],e.prototype,"headerFacet",void 0),n([o.ContentChild(a.Footer,{static:!1}),i("design:type",Object)],e.prototype,"footerFacet",void 0),n([o.ContentChildren(a.PrimeTemplate),i("design:type",o.QueryList)],e.prototype,"templates",void 0),n([o.Input(),i("design:type",Array),i("design:paramtypes",[Array])],e.prototype,"options",null),n([o.Input(),i("design:type",String),i("design:paramtypes",[String])],e.prototype,"filterValue",null),n([o.Component({selector:"p-listbox",template:'\n    <div [ngClass]="{\'ui-listbox ui-inputtext ui-widget ui-widget-content ui-corner-all\':true,\'ui-state-disabled\':disabled,\'ui-state-focus\':focus}" [ngStyle]="style" [class]="styleClass">\n      <div class="ui-helper-hidden-accessible">\n        <input type="text" readonly="readonly" (focus)="onInputFocus($event)" (blur)="onInputBlur($event)">\n      </div>\n      <div class="ui-widget-header ui-corner-all ui-listbox-header ui-helper-clearfix" *ngIf="headerFacet">\n        <ng-content select="p-header"></ng-content>\n      </div>\n      <div class="ui-widget-header ui-corner-all ui-listbox-header ui-helper-clearfix" *ngIf="(checkbox && multiple && showToggleAll) || filter" [ngClass]="{\'ui-listbox-header-w-checkbox\': checkbox}">\n        <div class="ui-chkbox ui-widget" *ngIf="checkbox && multiple && showToggleAll">\n          <div class="ui-helper-hidden-accessible">\n            <input type="checkbox" readonly="readonly" [checked]="allChecked" (focus)="onHeaderCheckboxFocus()" (blur)="onHeaderCheckboxBlur()" (keydown.space)="toggleAll($event)">\n          </div>\n          <div #headerchkbox class="ui-chkbox-box ui-widget ui-corner-all ui-state-default" [ngClass]="{\'ui-state-active\': allChecked, \'ui-state-focus\': headerCheckboxFocus}" (click)="toggleAll($event)">\n            <span class="ui-chkbox-icon ui-clickable" [ngClass]="{\'pi pi-check\':allChecked}"></span>\n          </div>\n        </div>\n        <div class="ui-listbox-filter-container" *ngIf="filter">\n          <input type="text" role="textbox" [value]="filterValue||\'\'" (input)="onFilter($event)" class="ui-inputtext ui-widget ui-state-default ui-corner-all" [disabled]="disabled" [attr.aria-label]="ariaFilterLabel">\n          <span class="ui-listbox-filter-icon pi pi-search"></span>\n        </div>\n      </div>\n      <div class="ui-listbox-list-wrapper" [ngStyle]="listStyle">\n        <ul class="ui-listbox-list">\n          <li *ngFor="let option of options; let i = index;" [style.display]="isItemVisible(option) ? \'block\' : \'none\'" [attr.tabindex]="option.disabled ? null : \'0\'"\n              [ngClass]="{\'ui-listbox-item ui-corner-all\':true,\'ui-state-highlight\':isSelected(option), \'ui-state-disabled\': option.disabled}" [attr.aria-label]="option.label"\n              (click)="onOptionClick($event,option)" (dblclick)="onOptionDoubleClick($event,option)" (touchend)="onOptionTouchEnd($event,option)" (keydown)="onOptionKeyDown($event,option)">\n            <div class="ui-chkbox ui-widget" *ngIf="checkbox && multiple">\n              <div class="ui-chkbox-box ui-widget ui-corner-all ui-state-default" [ngClass]="{\'ui-state-active\':isSelected(option)}">\n                <span class="ui-chkbox-icon ui-clickable" [ngClass]="{\'pi pi-check\':isSelected(option)}"></span>\n              </div>\n            </div>\n            <span *ngIf="!itemTemplate">{{option.label}}</span>\n            <ng-container *ngTemplateOutlet="itemTemplate; context: {$implicit: option, index: i}"></ng-container>\n          </li>\n        </ul>\n      </div>\n      <div class="ui-listbox-footer ui-widget-header ui-corner-all" *ngIf="footerFacet">\n        <ng-content select="p-footer"></ng-content>\n      </div>\n    </div>\n  ',providers:[t.LISTBOX_VALUE_ACCESSOR]})],e)}();t.Listbox=p,t.ListboxModule=function(){return n([o.NgModule({imports:[u.CommonModule,a.SharedModule],exports:[p,a.SharedModule],declarations:[p]})],function(){})}()}}]);